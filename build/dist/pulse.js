!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=2)}([function(e,t,s){const{Log:i,assert:r,warn:n}=s(1);e.exports=class{constructor({name:e,global:t},{data:s={},model:i={},actions:r={},filters:n={},indexes:o=[],groups:a=[],routes:l={},watch:h={},persist:c=[],onLoad:p}){this._name=e,this._actionRefrence={collect:this.collect.bind(this),undo:this.undo.bind(this),move:this.move.bind(this),update:this.update.bind(this),put:this.put.bind(this),delete:this.delete.bind(this),findById:this.findById.bind(this),getGroup:this.getGroup.bind(this),newGroup:this.newGroup.bind(this),forceUpdate:this.forceUpdate.bind(this)};const d=Object.assign({groups:Object.create(null),data:Object.create(null),actions:Object.create(null),filters:Object.create(null),routes:Object.create(null),indexes:Object.create(null)},this._actionRefrence);this._public=this.initProxy(d),this._global=t,this._regenQueue=this._global.regenQueue,this._model=i,this._filters=n,this._data=Object.create(null),this._indexes=Object.create(null),this._primaryKey=null,this._filtersRelatedToData=Object.create(null),this._filtersRelatedToGroup=Object.create(null),this._mutableData=[],this._indexesToRegen=[],this._filtersToForceRegen=[],this._collecting=!1,this._collectionSize=0,this._executing=!1,this._relations={},this._onLoad=p,this._allowInternalChange=!1,this._performingAction=!1,this._global.internalDataRef[this._name]=this._data,this._storage=Object.create(null),this._storage.get=(e=>JSON.parse(this._global.storage.get(e))),this._storage.set=((e,t)=>this._global.storage.set(e,JSON.stringify(t))),this.parseModel(i),this.initData(s),this.initGroups(o.concat(a)),this.initRoutes(l),this.initFilters(n),this.initActions(r),this.watchers=h,this.prepareNamespace(),this.initPersist(c)}parseModel(e){Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(s=>{"primaryKey"===s?this._primaryKey=t:"parent"===s&&this.createDataRelation(t,e[t].parent,e[t].assignTo)})})}createDataRelation(e,t,s){if(!this._global.collectionNamespace.includes(t))return r(`"${collection}" is not a valid collection.`);this._relations[e]={},this._relations[e].fromCollectionName=t,s&&(this._relations[e].assignTo=s)}initGroups(e){this._public.groups=this.initProxy({});for(let t of e){if(this._public.groups[t]||this._indexes[t])return r(`Duplicate declaration for index ${t}`);this._indexes[t]=new Array,this._public.groups[t]=new Array}}initData(e){Object.keys(e).forEach(e=>this._mutableData.push(e)),this._public.data=this.initProxy(e)}initFilters(e){let t=Object.keys(e);this._public.filters=this.initProxy({});for(let e of t)this._public.filters[e]=[],this._global.allFilters.push(e)}initRoutes(e){let t=Object.keys(e);for(let s of t)this._public.routes[s]=(t=>e[s](this._global.request,t))}initActions(e){let t=Object.keys(e);for(let s of t)this._public.actions[s]=(t=>{this._performingAction=s;const i=Object.assign({data:this._public.data,filters:this._public.filters,groups:this._public.groups,actions:this._public.actions,routes:this._public.routes},this._global.dataRef,this._actionRefrence);let r=e[s](i,t);return this._performingAction=!1,r})}initPersist(e=[]){this._persist=[];for(let t of e){this._persist.push(t);let e=`_${this._name}_${t}`;if(!this._public.hasOwnProperty(t))return r(`Unable to persist property "${t}" as it does not exist.`);let s=this.searchNamespaceForProperty(t);this._storage.get(e)?s?(this._allowInternalChange=!0,this._public[s][t]=this._storage.get(e),this._allowInternalChange=!1,this._public.hasOwnProperty(t)&&(this._allowInternalChange=!0,this._public[t]=this._storage.get(e),this._allowInternalChange=!1)):r("Unable to persist. Could not determin property type."):s&&this._storage.set(e,this._public[s][t])}}searchNamespaceForProperty(e){let t=["filters","data","groups"];for(let s of t)if(Object.keys(this._public[s]).includes(e))return s;return!1}validateNamespace(e,t){return Object.keys(e).forEach(s=>{if(e.hasOwnProperty(t))return n(`Duplicate property "${t}" on collection "${this._name}"`),!1}),!0}prepareNamespace(){Object.keys(this._public).forEach(e=>{["data","actions","groups","filters"].includes(e)&&Object.keys(this._public[e]).forEach(t=>{this.validateNamespace(this._public,t)&&(this._public[t]=this._public[e][t])})})}initProxy(e){return new Proxy(e||{},{set:(e,t,s)=>(this._global.initComplete?!0===this._allowInternalChange?(this._allowInternalChange=!1,i(`Internally mutating value ${t}`),e[t]=s):this._mutableData.includes(t)?(i(`User mutated data: "${t}"`),e[t]=s,this.updateSubscribers(t,s),this.findAndUpdateDependents(t)):Object.keys(this._public).includes(t)?r(`Cannot set data property "${t}" in collection "${this._name}". Filters and groups are not mutable.`):r(`Cannot set data property "${t}" in collection "${this._name}" as "${t}" does not exist.`):e[t]=s,!0),get:(e,t,s)=>{if(this._global.record&&!["filters","groups","indexes","data","actions"].includes(t)&&0===this._global.dependenciesFound.filter(e=>e.property===t&&e.collection===this._name).length)this._global.dependenciesFound.push({property:t,collection:this._name});else if(this._global.initComplete&&"string"==typeof t){let e=this._global.componentDependencyGraph,s=this._global.analysingComponent,i=this._name+"/"+t;e.hasOwnProperty(s)&&!e[s].includes(i)?e[s].push(i):e[s]=[i]}return e[t]}})}checkNamespace(e){return!!this._public.data.hasOwnProperty(e)||(r(`Namespace error "${e}" is already taken for collection "${this._name}".`),!1)}analyseFilters(){if(!this._filters)return;let e=Object.keys(this._filters);for(let t of e)this.executeAndAnalyseFilter(t)}executeAndAnalyseFilter(e){i(`Analysing filter "${e}"`),this._global.record=!0,this.executeFilter(e);let t=this._global.dependenciesFound;this._global.dependenciesFound=[];for(let s of t)if(this.checkForMissingDependency(s,e))return;this.populateDependencies(t,e),this._global.generatedFilters.push(this._name+e),i(`Generated ${e} for collection ${this._name}`)}populateDependencies(e,t){let s=this._global.dependencyGraph;for(let i of e){let e=`${i.collection}/${i.property}`,r=s[this._name][t];r.dependencies.includes(e)||r.dependencies.push(e);let n=`${this._name}/${t}`,o=s[i.collection][i.property];o&&o.dependents&&!o.dependents.includes(n)&&o.dependents.push(n)}}parseKey(e){return{collection:e.split("/")[0],property:e.split("/")[1]}}checkForMissingDependency(e,t){let s=this._global;return!(!s.allFilters.includes(e.property)||s.generatedFilters.includes(e.collection+e.property))&&(i(`Dependent "${e.property}" has not been analysed yet, saving this filter to regen queue.`),this._regenQueue.push({type:"filter",property:t,collection:this._name}),!0)}findAllDependents(e){const t=this._global.dependencyGraph,s=t[this._name][e].dependents,i=[];let n=0,o=[];for(let e of s)o.push(e),i.push(e);const a=()=>{n++;let e=o;o=[];for(let s of e){let e=this.parseKey(s),r=t[e.collection][e.property].dependents;for(let e of r)o.push(e),i.push(e)}if(n>1e3)return r("Maximum stack exceeded for dependent search.");0!==o.length&&a()};return a(),i}findAndUpdateDependents(e){let t=[];if(Array.isArray(e))for(let s of e){let e=this.findAllDependents(s);for(let s of e)t.includes(s)||t.push(s)}else t=this.findAllDependents(e);i(`Found dependents: ${JSON.stringify(t)}`),this.pushDependentsToRegenQueue(t)}pushDependentsToRegenQueue(e){for(let t of e){let e=this.parseKey(t);this._regenQueue.find(t=>t.property===e.property&&t.collection===e.collection)||this._regenQueue.push({type:"filter",property:e.property,collection:e.collection})}this._global.eventBus.message="processRegenQueue"}forceUpdate(e){this._regenQueue.push({type:"filter",property:e,collection:this._name}),this._global.eventBus.message="processRegenQueue"}executeFilter(e){this._executing=e;const t=Object.assign({data:this._public.data,filters:this._public.filters,groups:this._public.groups,actions:this._public.actions},this._global.dataRef,this._actionRefrence);let s=this._filters[e](t);this._executing=!1,this._global.record=!1,null==s&&(s=!1),this.deliverUpdate("filters",s,e)}buildGroupFromIndex(e){let t=this._indexes[e].map(e=>{let t=this._data[e];for(let e of Object.keys(this._relations)){let s=this._relations[e],i=!!s.hasOwnProperty("assignTo")&&s.assignTo;if(t.hasOwnProperty(e)){let r=this._global.internalDataRef[s.fromCollectionName][t[e]];r&&(i?t[i]=r:t[s.fromCollectionName]=r)}}return t});return(this._public.hasOwnProperty(e)||this._public.groups.hasOwnProperty(e))&&this.deliverUpdate("groups",t,e),this._allowInternalChange=!0,this._public.indexes[e]=this._indexes[e],this._allowInternalChange=!1,t}deliverUpdate(e,t,s){this._allowInternalChange=!0,this._public[e][s]=t,this._allowInternalChange=!1,this._public.hasOwnProperty(s)&&(this._allowInternalChange=!0,this._public[s]=t,this._allowInternalChange=!1),this.updateSubscribers(s,t)}updateSubscribers(e,t){i(`Updating subscribers for ${e}`),this.watchers.hasOwnProperty(e)&&setTimeout(()=>this.watchers[e](this._global.dataRef)),this.persistData(e,t)}persistData(e,t){if(this._persist.includes(e)){let s=`_${this._name}_${e}`;i(`Persisting data with key ${s}`),this._storage.set(s,t)}}createRelationForIndex(e){for(let t of Object.keys(this._relations))this._relations[t][e]=[]}collect(e,t){if(!e)return r(`Collect error on collection ${this._name}: Data undefined`);Array.isArray(e)||(e=[e]),this._collecting=!0;let s=!1,n=[],o=[];if(t)if(Array.isArray(t)){s=!0;for(let e of t)this.createRelationForIndex(e),this._indexesToRegen.push(e),this._indexes[e]||(this._indexes[e]=[]),n.push(e)}else this.createRelationForIndex(t),this._indexesToRegen.push(t),this._indexes[t]||(this._indexes[t]=[]),o.push(t);if(Array.isArray(e))for(let s of e)this.processDataItem(s,t,e);else this.processDataItem(e,t);this.recordHistory("collect",{dataCollected:e,indexesCreated:o,indexesModified:n}),this._collecting=!1,i(`Collected ${e.length} items. With index: ${t}`),this.regenerateGroupsAndFilters()}processDataItem(e,t){this._primaryKey||this.findPrimaryKey(e),e.hasOwnProperty(this._primaryKey)||this.dataRejectionHandler(e,"Primary key mismatch"),this._data[e[this._primaryKey]],t&&!this._indexes[t].includes(e[this._primaryKey])&&this._indexes[t].push(e[this._primaryKey]);for(let s of Object.keys(this._relations)){let i=this._relations[s];Array.isArray(i[t])&&i[t].push(e[s])}Object.keys(this._data).includes(e[this._primaryKey])&&this.findGroupsToRegen(e[this._primaryKey]),this.findFiltersToRegen(e[this._primaryKey],t),this._data[e[this._primaryKey]]=e,this._collectionSize++}findGroupsToRegen(e){i(`looking for indexes for ${e}`);let t=Object.keys(this._indexes);for(let s of t)this._indexes[s].includes(e)&&!this._indexesToRegen.includes(s)&&this._indexesToRegen.push(s)}findFiltersToRegen(e,t){const s=(e,t)=>{Object.keys(this[e]).forEach(s=>{this[e][s].includes(t)&&(this._filtersToForceRegen.includes(s)||this._filtersToForceRegen.push(s))})};if(Array.isArray(t))for(let e of t)s("_filtersRelatedToGroup",e);else s("_filtersRelatedToGroup",t);s("_filtersRelatedToData",e)}regenerateGroupsAndFilters(){for(let e of this._indexesToRegen){i(`Rebuilding index ${e}`);let t=this._indexesToRegen.shift();this.buildGroupFromIndex(t),this._global.dataRef[this._name][t]&&this.findAndUpdateDependents(t)}let e=[];for(let t of this._filtersToForceRegen)e.push(`${this._name}/${t}`);this.pushDependentsToRegenQueue(e),this._filtersToForceRegen=[]}findPrimaryKey(e){let t=["id","_id"];for(let s of t)e.hasOwnProperty(s)&&(this._primaryKey=s);this._primaryKey||this.dataRejectionHandler(e,"No primary key supplied.")}internalDataModified(e){this.findGroupsToRegen(e),this.findFiltersToRegen(e),this.regenerateGroupsAndFilters()}undo(){i("undo requested, coming soon!")}move(e,t,s){if(!this._indexes[t])return r(`Index "${t}" not found`);if(!this._indexes[s])return r(`Index "${s}" not found`);Array.isArray(e)||(e=[e]);let i={ids:e,previousSourceIndex:t,previousDestIndex:s};for(let i of e){if(!this._data[i])return r(`Data for id "${i}" not found in collection ${this._name}`);this._indexes[t]=this._indexes[t].filter(e=>e!==i),this._indexes[s].push(i)}this.buildGroupFromIndex(t),this.buildGroupFromIndex(s),this.recordHistory("move",i),this.findAndUpdateDependents([t,s])}put(e,t){if(!this._indexes[t])return r(`Index "${t}" not found`);Array.isArray(e)||(e=[e]);let s=this._indexes[t];for(let s of e){if(!this._data[s])return r(`Data for id "${s}" not found in collection ${this._name}`);this._indexes[t].push(s)}this.buildGroupFromIndex(t),this.recordHistory("put",{ids:e,previousDestIndex:s}),this.findAndUpdateDependents(t)}update(e,t){if(this._data[e]){let s=this._data[e],i=Object.keys(t),n={dataId:e,previousValues:{},newValues:t};for(let o of i)s.hasOwnProperty(o)||r(`Data "${e}" does not have property "${o}" to update`),n.previousValues[o]=s[o],s[o]=t[o];this.recordHistory("update",n),this.internalDataModified(e)}else r(`Data for id "${e}" not found in collection ${this._name}`)}findById(e){if(this._executing&&(this._filtersRelatedToData[this._executing]=[e]),this._data[e])return this._data[e];i(`findByID: Item "${e}" not found in collection "${this._name}"`)}getGroup(e){return this._executing&&(this._filtersRelatedToGroup[this._executing]=[e]),this._indexes[e]?this.buildGroupFromIndex(e):[]}newGroup(e,t){Object.keys(this._indexes).includes(e)||(this._indexes[e]=t,this.recordHistory("newGroup",{createdGroup:e,data:t}))}modifyGroup(e){}delete(e){const t=e=>{let t=Object.assign({},this._data.primaryKey);delete this._data[e],this.recordHistory("delete",{deleted:t}),this.internalDataModified(e)};if(Array.isArray(e))for(let s of e)t(s);else t(e)}clean(){}increment(e,t,s){validateNumberForDataProperty(e,t,s)&&(this._data[e][t]+=s,this.recordHistory("increment",{previousValue:s}),this.internalDataModified(e))}decrement(e,t,s){validateNumberForDataProperty(e,t,s)&&(this._data[e][t]-=s,this.recordHistory("decrement",{previousValue:s}),this.internalDataModified(e))}validateNumberForDataProperty(e,t,s){return!(!this._data[e]||!this._data[e][t]||"number"!=typeof s||"number"!=typeof this._data[e][t])||(r(`Property ${t} for ${e} is not a number`),!1)}dataRejectionHandler(e,t){let s=`[Data Rejection] - ${t} - Data was not collected, but instead saved to the errors object("_errors") on root Pulse instance.`;this._global.errors.push({data:e,timestamp:new Date,error:s}),r(s)}recordHistory(e,t){let s={type:e,timestamp:Date.now(),collection:this._name,fromAction:this._performingAction,data:t};this._global.history.push(s)}}},function(e,t){e.exports={Log:e=>{},assert:e=>{},warn:e=>{console.error(`[Pulse] - ${e}`)}}},function(e,t,s){const i=s(3),r=s(6).mapData;e.exports={Library:i,mapData:r}},function(e,t,s){const{Log:i,assert:r,warn:n}=s(1),o=s(0),a=s(4),l=s(5);e.exports=class{constructor({collections:e={},utils:t={},services:s={},request:r={},storage:n,data:o={},groups:a=[],indexes:l=[],persist:h=[],actions:c={},filters:p={},watch:d={},routes:u={}}){this._collections=Object.create(null),this._subscribers=[],this._mappedProperties={},this._eventBus=this.activateEventBus(),this._global={regenQueue:[],errors:[],history:[],allFilters:[],collectionNamespace:[],analysingComponent:"",componentDependencyGraph:{},subscribedComponents:{},updateSubscribers:this.updateSubscribers,eventBus:this._eventBus,dependenciesFound:[],dependencyGraph:{},generatedFilters:[],record:!1,initComplete:!1,request:{},dataRef:{},internalDataRef:{},storage:{},relations:{}},this.initStorage(n),this.initCollections(e,{data:o,indexes:l,actions:c,filters:p,routes:u,groups:a,watch:d,persist:h},r),this.buildGlobalDataRefrenceTree(),this.prepareDependencyGraph(),this.executeAllFilters(),this.processRegenQueue(),this._global.initComplete=!0,i("INIT_COMPLETE")}install(e){const t=this;e.mixin({data:()=>t.mapCollections(),beforeCreate(){this.$options.parent&&!this.$options.parent.pulse&&(this.$options.parent.pulse=t),this.$vnode&&(t._global.analysingComponent=this.$vnode.tag,t._global.subscribedComponents[this.$vnode.tag]=this)},beforeUpdate(){}})}mapCollections(){const e={};return Object.keys(this._global.dataRef).forEach(t=>{e[t]=this._global.dataRef[t]}),e}mapData(e){const t={};return this.normalizeMap(e).forEach(({key:e,val:s})=>{let i=s.split("/")[0],r=s.split("/")[1];this._global.dataRef.hasOwnProperty(i)&&this._global.dataRef[i].hasOwnProperty(r)&&(t[e]=this._global.dataRef[i][r])}),t}normalizeMap(e){return Array.isArray(e)?e.map(e=>({key:e,val:e})):Object.keys(e).map(t=>({key:t,val:e[t]}))}subscribe(e){this._subscribers.push(e)}activateEventBus(){return new Proxy({message:null},{set:(e,t,s)=>("processRegenQueue"===s&&this.processRegenQueue(),e[t]=s,!0)})}initStorage(e){let t="localStorage";if("sessionStorage"===e)this.assignStorage(sessionStorage,t),t="sessionStorage";else if(e&&e.set&&e.get&&e.remove)this.assignStorage(e,t),t="custom";else{if(!window.localStorage)return r("No storage API present, data will not persist");this.assignStorage(localStorage,t)}}assignStorage(e,t){const s={type:t};e.set&&(s.set=e.set.bind(e)),e.setItem&&(s.set=e.setItem.bind(e)),e.get&&(s.get=e.get.bind(e)),e.getItem&&(s.get=e.getItem.bind(e)),e.remove&&(s.remove=e.remove.bind(e)),e.removeItem&&(s.remove=e.removeItem.bind(e)),e.clear&&(s.clear=e.clear.bind(e)),this._global.storage=s}prepareDependencyGraph(){let e=this._global.dependencyGraph,t=this._global.collectionNamespace;for(let s of t){e[s]={};let t=this._collections[s]._public,i=[],r=["filters","groups","data"];for(let e of r)Object.keys(t[e]).forEach(e=>i.push(e));for(let t of i)e[s][t]={dependencies:[],dependents:[],dependencyNames:[],dependentNames:[]}}}initCollections(e,t,s){this._collections.base=new a(this._global,t,s),this._collections.request=new l(this._global,s),this._global.collectionNamespace=["base","request"],Object.keys(e).forEach(t=>{this._global.collectionNamespace.push(t),this._collections[t]=new o({name:t,global:this._global},e[t])}),Object.keys(this._collections).forEach(e=>{this[e]?r(`Collection name conflict, instance already has "${e}" thus it will not be accessable on the root state tree.`):this[e]=this._collections[e]._public})}buildGlobalDataRefrenceTree(){if(this._collections){let e=Object.keys(this._collections);for(let t of e)this._global.dataRef[t]=this._collections[t]._public}}executeAllFilters(){let e=Object.keys(this._collections);for(let t of e)this._collections[t].analyseFilters()}processRegenQueue(){if(0!==this._global.regenQueue.length){i(`Regen queue processing. There are ${this._global.regenQueue.length} in the queue.`);for(let e of this._global.regenQueue){const e=this._global.regenQueue.shift(),t=`${e.collection}/${e.property}`;if(t===this.lastRegenerated)return n(`Prevented infinate loop for ${t}`),void(this.lastRegenerated="");this._collections[e.collection].executeAndAnalyseFilter(e.property),this.lastRegenerated=t,i(`There are ${this._global.regenQueue.length} properties left to regenerate.`)}this._global.regenQueue.length>0?this.processRegenQueue():this.lastRegenerated=""}}collect(e,t){this._collections.root.collect(e,t)}processCallbacks(e){return!!self._subscribers.length&&(this._subscribers.forEach(t=>t(e)),!0)}}},function(e,t,s){const i=s(0);e.exports=class extends i{constructor(e,{data:t={},actions:s={},routes:i={},filters:r={},groups:n=[],watch:o={},persist:a=[]}){t.isAuthenticated=!1,t.appReady=!1,t.pendingRequests=[],a.push("isAuthenticated"),super({name:"base",global:e},{data:t,actions:s,groups:n,persist:a,routes:i,filters:r,watch:o})}}},function(e,t,s){const i=s(0);e.exports=class extends i{constructor(e,{baseURL:t,requestIntercept:s,responseIntercept:i,headers:r}){let n={baseURL:t};t||(n.baseURL=null),super({name:"request",global:e},{groups:["history"],data:n});this.standardHeader={headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",mode:"cors"},r&&Object.keys(r).forEach(e=>{this.standardHeader[e]=r[e]}),this._global.request={get:this.get.bind(this),post:this.post.bind(this),put:this.put.bind(this),patch:this.patch.bind(this),delete:this.delete.bind(this)}}send(e,t,s={}){return new Promise((i,r)=>{let n=this.standardHeader,o=`${this._global.dataRef.request.baseURL}/${e}`;s=JSON.stringify(s);const a=Object.assign(n,{method:t.toUpperCase(),body:"get"==t?null:s});fetch(o,a).then(e=>{const t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()}).then(e=>{console.log("[API RESPONSE]",e),this.collect({id:Date.now(),status:e.status,timestamp:new Date,response:e},"history"),e.status&&e.status.code&&(e.status.code.toString().startsWith("4")||e.status.code.toString().startsWith("5"))&&r(e),i(e)}).catch(r)})}get(e){return this.send(e,"get")}post(e,t){return this.send(e,"post",t)}patch(e,t){return this.send(e,"patch",t)}delete(e,t){return this.send(e,"delete",t)}put(e,t){return this.send(e,"put",t)}}},function(e,t){function s(e){return Array.isArray(e)?e.map(e=>({key:e,val:e})):Object.keys(e).map(t=>({key:t,val:e[t]}))}e.exports={mapCollection:(e,t)=>{const i={};return s(t).forEach(({key:t,val:s})=>{i[t]=function(){let i=`${e}/${t}`;this.$pulse._mappedProperties.hasOwnProperty(i)||(this.$pulse._mappedProperties[i]=[]);let r=this.$pulse._global.dataRef[e][s];return this.$pulse._mappedProperties[i].push({componentID:this.$vnode.tag,propertyGivenName:!1,collection:e,property:s}),r}}),i},mapData:e=>{const t={};return s(e).forEach(({key:e,val:s})=>{t[e]=function(){let e=s.split("/")[0],t=s.split("/")[1];return this.hasOwnProperty("$"+e)&&this["$"+e].hasOwnProperty(t)?this["$"+e][t]:(console.log("Property does not exist"),!1)}}),t}}}]);